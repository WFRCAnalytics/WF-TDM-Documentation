<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>WFTDM Documentation - Socioeconomic Data Updates</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../_pictures/favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script type="module" src="../../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="https://wfrc.org" class="navbar-brand navbar-brand-logo">
    <img src="../../../_pictures/wf-logo-new-white-t.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html" rel="" target="">
 <span class="menu-text">Overview</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-version-9-series" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Version 9 Series</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-version-9-series">    
        <li>
    <a class="dropdown-item" href="../../../v9x/v910/index.html" rel="" target="">
 <span class="dropdown-text">Version 9.1.0</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../v9x/v902/index.html" rel="" target="">
 <span class="dropdown-text">Version 9.0.2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../v9x/v901/index.html" rel="" target="">
 <span class="dropdown-text">Version 9.0.1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../v9x/v900/index.html" rel="" target="">
 <span class="dropdown-text">Version 9.0.0</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-past-versions" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Past Versions</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-past-versions">    
        <li>
    <a class="dropdown-item" href="../../../v8x/v832/index.html" rel="" target="">
 <span class="dropdown-text">Version 8.3.2 - Draft Release</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../v8x/v831/index.html" rel="" target="">
 <span class="dropdown-text">Version 8.3.1 - Draft Release</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../v8x/v830/index.html" rel="" target="">
 <span class="dropdown-text">Version 8.3.0 - Draft Release</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <a href="https://github.com/WFRCAnalytics/TDM-Documentation/tree/gh-pages" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="mailto:sswim@wfrc.org" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><span style="color: #3E6682;font-size: 25px;">**Version 9.0.0**</span></li><li class="breadcrumb-item"><a href="../../../v9x/v900/whats-new/1-overview.html"><span style="color: #3E6682;">**Whats New Document**</span></a></li><li class="breadcrumb-item"><a href="../../../v9x/v900/whats-new/3-sedata.html">3 Socioeconomic Data Updates</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text"><span style="color: #3E6682;font-size: 25px;"><strong>Version 9.0.0</strong></span></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/downloads.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Downloads</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text"><span style="color: #3E6682;"><strong>Whats New Document</strong></span></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/whats-new/1-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 Overview</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/whats-new/2-taz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 Traffic Analysis Zone Updates</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/whats-new/3-sedata.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">3 Socioeconomic Data Updates</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/whats-new/4-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4 Highway &amp; Transit Networks Updates</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/whats-new/5-baseyear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5 Model 2019 Base-Year Updates</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/whats-new/6-modelenhancements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6 Model Enhancements</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/whats-new/7-modelresults.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7 Compare Model Results</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text"><span style="color: #3E6682;"><strong>Model Validation Report</strong></span></span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/validation/1-tripgen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1 Trip Generation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/validation/2-distribute.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 Distribution</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/validation/3-modechoice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3 Mode Choice</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../v9x/v900/validation/4-assignhwy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4 Highway Assignment</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title"><strong>Section Contents</strong><br>__________________</h2>
   
  <ul class="collapse">
  <li><a href="#control-totals" id="toc-control-totals" class="nav-link active" data-scroll-target="#control-totals">Control Totals</a></li>
  <li><a href="#taz-level-forecasts" id="toc-taz-level-forecasts" class="nav-link" data-scroll-target="#taz-level-forecasts">TAZ-Level Forecasts</a></li>
  <li><a href="#base-year-taz-age-percent-lookup-file" id="toc-base-year-taz-age-percent-lookup-file" class="nav-link" data-scroll-target="#base-year-taz-age-percent-lookup-file">Base-Year TAZ Age Percent Lookup File</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Socioeconomic Data Updates</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="control-totals" class="level2">
<h2 class="anchored" data-anchor-id="control-totals">Control Totals</h2>
<section id="changes-to-county-socioeconomic-data" class="level3">
<h3 class="anchored" data-anchor-id="changes-to-county-socioeconomic-data">Changes to County Socioeconomic Data</h3>
<p>The WF TDM version 9’s socioeconomic county control totals were updated based on the Gardner Policy Institute (GPI) 2021 release of the state’s residential and employment county forecasts. Significant changes were made relative to the 2017 release. A comparison between version 9 and version 8 of the model’s socioeconomic control totals can be found in <a href="#fig-county-control-total-differences-by-category">Figure&nbsp;1</a> and <a href="#fig-county-control-trends-by-county-by-category">Figure&nbsp;2</a>.</p>
<div class="cell" data-execution_count="7">
<div class="cell-output cell-output-display">
<script type="ojs-define">{"contents": [{"name": "diffConTot2050long", "value": {"CO_NAME": ["Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Davis", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Salt Lake", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Utah", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Wasatch Front", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber", "Weber"], "Category": ["AGRI", "ALLEMP", "CONS", "FOOD", "GQ_Pop", "GVED", "HBJ", "HH", "HH_Pop", "HH_Size", "HLTH", "Industrial", "Job_HH", "MANU", "MING", "OFFI", "OTHR", "Other", "POP_00_17", "POP_18_64", "POP_65P", "RETL", "Retail", "TOTPOP", "Typical", "WSLE", "WrkPop_Job", "AGRI", "ALLEMP", "CONS", "FOOD", "GQ_Pop", "GVED", "HBJ", "HH", "HH_Pop", "HH_Size", "HLTH", "Industrial", "Job_HH", "MANU", "MING", "OFFI", "OTHR", "Other", "POP_00_17", "POP_18_64", "POP_65P", "RETL", "Retail", "TOTPOP", "Typical", "WSLE", "WrkPop_Job", "AGRI", "ALLEMP", "CONS", "FOOD", "GQ_Pop", "GVED", "HBJ", "HH", "HH_Pop", "HH_Size", "HLTH", "Industrial", "Job_HH", "MANU", "MING", "OFFI", "OTHR", "Other", "POP_00_17", "POP_18_64", "POP_65P", "RETL", "Retail", "TOTPOP", "Typical", "WSLE", "WrkPop_Job", "AGRI", "ALLEMP", "CONS", "FOOD", "GQ_Pop", "GVED", "HBJ", "HH", "HH_Pop", "HH_Size", "HLTH", "Industrial", "Job_HH", "MANU", "MING", "OFFI", "OTHR", "Other", "POP_00_17", "POP_18_64", "POP_65P", "RETL", "Retail", "TOTPOP", "Typical", "WSLE", "WrkPop_Job", "AGRI", "ALLEMP", "CONS", "FOOD", "GQ_Pop", "GVED", "HBJ", "HH", "HH_Pop", "HH_Size", "HLTH", "Industrial", "Job_HH", "MANU", "MING", "OFFI", "OTHR", "Other", "POP_00_17", "POP_18_64", "POP_65P", "RETL", "Retail", "TOTPOP", "Typical", "WSLE", "WrkPop_Job", "AGRI", "ALLEMP", "CONS", "FOOD", "GQ_Pop", "GVED", "HBJ", "HH", "HH_Pop", "HH_Size", "HLTH", "Industrial", "Job_HH", "MANU", "MING", "OFFI", "OTHR", "Other", "POP_00_17", "POP_18_64", "POP_65P", "RETL", "Retail", "TOTPOP", "Typical", "WSLE", "WrkPop_Job", "AGRI", "ALLEMP", "CONS", "FOOD", "GQ_Pop", "GVED", "HBJ", "HH", "HH_Pop", "HH_Size", "HLTH", "Industrial", "Job_HH", "MANU", "MING", "OFFI", "OTHR", "Other", "POP_00_17", "POP_18_64", "POP_65P", "RETL", "Retail", "TOTPOP", "Typical", "WSLE", "WrkPop_Job", "AGRI", "ALLEMP", "CONS", "FOOD", "GQ_Pop", "GVED", "HBJ", "HH", "HH_Pop", "HH_Size", "HLTH", "Industrial", "Job_HH", "MANU", "MING", "OFFI", "OTHR", "Other", "POP_00_17", "POP_18_64", "POP_65P", "RETL", "Retail", "TOTPOP", "Typical", "WSLE", "WrkPop_Job", "AGRI", "ALLEMP", "CONS", "FOOD", "GQ_Pop", "GVED", "HBJ", "HH", "HH_Pop", "HH_Size", "HLTH", "Industrial", "Job_HH", "MANU", "MING", "OFFI", "OTHR", "Other", "POP_00_17", "POP_18_64", "POP_65P", "RETL", "Retail", "TOTPOP", "Typical", "WSLE", "WrkPop_Job", "AGRI", "ALLEMP", "CONS", "FOOD", "GQ_Pop", "GVED", "HBJ", "HH", "HH_Pop", "HH_Size", "HLTH", "Industrial", "Job_HH", "MANU", "MING", "OFFI", "OTHR", "Other", "POP_00_17", "POP_18_64", "POP_65P", "RETL", "Retail", "TOTPOP", "Typical", "WSLE", "WrkPop_Job"], "View": ["Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "Difference", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct", "DifferencePct"], "ViewValue": [1354.0, -838.0, 29054.0, 223.0, 5931.0, 2453.0, -4730.0, 15185.0, 36215.0, -0.03, 6405.0, 4042.0, -0.1276704658, 6602.0, 198.0, -5554.0, -11562.0, -8258.0, 126121.0, 24007.0, 108129.0, 1596.0, 1819.0, 529710.0, -2397.0, -2560.0, 0.0813366253, 1610.0, 60089.0, 109209.0, 16196.0, 23321.0, -10966.0, -17168.0, 26074.0, 47178.0, -0.03, 17632.0, 12022.0, 0.0015112404, 834.0, 4285.0, 4881.0, 1198.0, 12745.0, 309329.0, 46990.0, 321740.0, -1098.0, 15098.0, 1572359.0, 39865.0, 11188.0, 0.002032703, 3256.0, -47977.0, 67364.0, 4502.0, 25071.0, -16982.0, -10347.0, -21799.0, -107937.0, -0.11, 3987.0, -2565.0, -0.0340973839, -71.0, 1111.0, -14923.0, -18194.0, -46112.0, 318688.0, -50297.0, 173367.0, -4879.0, -377.0, 1185679.0, -49054.0, -2494.0, -0.0005360842, 3604.0, 5115.0, 52663.0, 20104.0, 0.0, -32070.0, -36128.0, 18532.0, -24675.0, -0.0375, 28719.0, 18283.0, -0.0214684572, 13570.0, 1227.0, -17571.0, -29633.0, -50555.0, -112644.2594600001, 31837.1011000001, 55713.6501600001, -4083.0, 16021.0, 0.0, -16251.0, 4713.0, 0.0109235169, 1362.0, 1438.0, 17306.0, 1647.0, 4942.0, -6224.0, -3508.0, 6835.0, 19563.0, 0.02, 1405.0, 5039.0, -0.0547848785, 6222.0, 273.0, -1439.0, 961.0, -5297.0, 77283.0, 11137.0, 75192.0, 502.0, 2149.0, 366031.0, 1891.0, -1183.0, 0.0474447772, null, -0.0028977389, null, 0.0148736077, null, 0.0490335219, -0.3600243568, 0.0833662736, 0.0742774282, -0.0111940299, 0.2772487231, 0.1646368783, -0.0804137058, 0.6319517565, null, -0.1445488379, -0.1558977401, -0.0444657434, null, 0.0884388826, null, 0.0602810092, 0.0438640912, null, -0.0095218801, -0.1815087918, 0.0866515382, null, 0.0448814569, null, 0.2679017451, null, -0.0542315548, -0.2736285104, 0.0432052839, 0.0314130478, -0.0120481928, 0.1557170739, 0.0761252248, 0.0006812027, 0.0116293662, null, 0.0228562598, 0.0035594167, 0.0147245374, null, 0.0525438891, null, -0.0095942959, 0.0863246006, null, 0.033265631, 0.1297776334, 0.0030431175, null, -0.0696860012, null, 0.1492656079, null, -0.1628000614, -0.2997479649, -0.0520566919, -0.0850872456, -0.0363036304, 0.0647030185, -0.0501898016, -0.0207392727, -0.00247931, null, -0.1213449341, -0.1177681403, -0.1039959224, null, -0.0676106737, null, -0.070731672, -0.0038027032, null, -0.0826314584, -0.1109973742, -0.0004961279, 0.905982906, 0.002032656, 0.3092911259, 0.1718966431, null, -0.0819938281, -0.3026454672, 0.0137169216, -0.0068178258, -0.0140712946, 0.1307774975, 0.0712248825, -0.0115261621, 0.1093067839, 0.2644396552, -0.0447689321, -0.0483271497, -0.0312765639, -0.1193182975, 0.015073722, 0.0894690321, -0.0178987883, 0.0464282609, null, -0.0073263756, 0.0355569303, 0.0130146117, null, 0.0074774325, null, 0.1854520887, null, -0.1818288051, -0.4079069767, 0.0492169217, 0.057281144, 0.0081300813, 0.0670996705, 0.2204479832, -0.0395620138, 0.4667666917, null, -0.0846918957, 0.020930891, -0.0448620769, null, 0.0550195387, null, 0.0278672144, 0.0799033278, null, 0.0112676224, -0.1241603694, 0.0450758081]}}]}</script>
</div>
</div>
<div class="cell">
<details class="hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="122" data-source-offset="-17"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 121;"><span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>faControlTotals <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"data/controltotal.csv"</span>)<span class="op">.</span><span class="fu">csv</span>({ <span class="dt">typed</span><span class="op">:</span> <span class="kw">true</span> })<span class="op">;</span></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a>faCounties      <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"data/counties.csv"</span>    )<span class="op">.</span><span class="fu">csv</span>({ <span class="dt">typed</span><span class="op">:</span> <span class="kw">true</span> })<span class="op">;</span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>cats <span class="op">=</span> <span class="kw">new</span> <span class="bu">Map</span>([<span class="co">//['Total Population'               , 'TOTPOP'    ],</span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a>                <span class="co">//['Group Quarter Population'       , 'GQ_Pop'    ],</span></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Population'</span>                     <span class="op">,</span> <span class="st">'HH_Pop'</span>    ]<span class="op">,</span></span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Households'</span>                     <span class="op">,</span> <span class="st">'HH'</span>        ]<span class="op">,</span></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>                <span class="co">//['Household Size'                 , 'HH_Size'   ],</span></span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a>                <span class="co">//['Population 0-17'                , 'POP_00_17' ],</span></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>                <span class="co">//['Population 18-64'               , 'POP_18_64' ],</span></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a>                <span class="co">//['Population 65+'                 , 'POP_65P'   ],</span></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'All Employment'</span>                 <span class="op">,</span> <span class="st">'ALLEMP'</span>    ]<span class="op">,</span></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Retail Employment'</span>              <span class="op">,</span> <span class="st">'RETL'</span>      ]<span class="op">,</span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Food Employment'</span>                <span class="op">,</span> <span class="st">'FOOD'</span>      ]<span class="op">,</span></span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Manufacturing Employment'</span>       <span class="op">,</span> <span class="st">'MANU'</span>      ]<span class="op">,</span></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Wholesale Employment'</span>           <span class="op">,</span> <span class="st">'WSLE'</span>      ]<span class="op">,</span></span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Office Employment'</span>              <span class="op">,</span> <span class="st">'OFFI'</span>      ]<span class="op">,</span></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Government/Education Employment'</span><span class="op">,</span> <span class="st">'GVED'</span>      ]<span class="op">,</span></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Health Employment'</span>              <span class="op">,</span> <span class="st">'HLTH'</span>      ]<span class="op">,</span></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Other Employment'</span>               <span class="op">,</span> <span class="st">'OTHR'</span>      ]<span class="op">,</span></span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a>                <span class="co">//['Agriculture Employment'         , 'AGRI'      ],</span></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a>                <span class="co">//['Mining Employment'              , 'MING'      ],</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a>                <span class="co">//['Construction Employment'        , 'CONS'      ],</span></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a>                [<span class="st">'Home-Based Job Employment'</span>      <span class="op">,</span> <span class="st">'HBJ'</span>       ]</span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a>                <span class="co">//['Jobs per Household'             , 'Job_HH'    ],</span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a>                <span class="co">//['Working Population per Job'     , 'WrkPop_Job']</span></span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a>                ])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<details class="hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="154" data-source-offset="-15"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 153;"><span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a>filteredControlTotals <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) {</span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> selectCounty   <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span></span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a>         selectCategory <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span><span class="op">;</span></span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a>viewof selectCategory <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">select</span>(cats<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="st">'HH_Pop'</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">'Category: '</span>})<span class="op">;</span></span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a>viewof metric <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(<span class="kw">new</span> <span class="bu">Map</span>([[<span class="st">"Difference"</span><span class="op">,</span> <span class="st">"Difference"</span>]<span class="op">,</span> [<span class="st">"Percent Difference"</span><span class="op">,</span> <span class="st">"DifferencePct"</span>]])<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="st">"Difference"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Display:"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-3" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<details class="hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="164" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 163;"><span id="cb3-164"><a href="#cb3-164" aria-hidden="true" tabindex="-1"></a>dataCTDiff50 <span class="op">=</span> <span class="fu">transpose</span>(diffConTot2050long)</span>
<span id="cb3-165"><a href="#cb3-165" aria-hidden="true" tabindex="-1"></a>filtered_dataCTDiff50 <span class="op">=</span> dataCTDiff50<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(dataL) {</span>
<span id="cb3-166"><a href="#cb3-166" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> selectCategory <span class="op">==</span> dataL<span class="op">.</span><span class="at">Category</span>  <span class="op">&amp;&amp;</span></span>
<span id="cb3-167"><a href="#cb3-167" aria-hidden="true" tabindex="-1"></a>           metric <span class="op">==</span> dataL<span class="op">.</span><span class="at">View</span><span class="op">;</span></span>
<span id="cb3-168"><a href="#cb3-168" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<details class="hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="173" data-source-offset="-51"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 172;"><span id="cb4-173"><a href="#cb4-173" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {DivergingBarChart} <span class="im">from</span> <span class="st">"@d3/diverging-bar-chart"</span></span>
<span id="cb4-174"><a href="#cb4-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-175"><a href="#cb4-175" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">getXFormat</span>() {</span>
<span id="cb4-176"><a href="#cb4-176" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (metric <span class="op">===</span> <span class="st">"DifferencePct"</span>) {</span>
<span id="cb4-177"><a href="#cb4-177" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"+%"</span><span class="op">;</span></span>
<span id="cb4-178"><a href="#cb4-178" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (selectCategory <span class="op">===</span> <span class="st">'HH_Size'</span> <span class="op">&amp;&amp;</span> metric <span class="op">===</span> <span class="st">"Difference"</span>) {</span>
<span id="cb4-179"><a href="#cb4-179" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">".2f"</span><span class="op">;</span></span>
<span id="cb4-180"><a href="#cb4-180" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb4-181"><a href="#cb4-181" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">"+,d"</span><span class="op">;</span></span>
<span id="cb4-182"><a href="#cb4-182" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-183"><a href="#cb4-183" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<details class="hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="190" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 189;"><span id="cb5-190"><a href="#cb5-190" aria-hidden="true" tabindex="-1"></a>chart3 <span class="op">=</span> <span class="fu">DivergingBarChart</span>(filtered_dataCTDiff50<span class="op">,</span> {</span>
<span id="cb5-191"><a href="#cb5-191" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">ViewValue</span><span class="op">,</span></span>
<span id="cb5-192"><a href="#cb5-192" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">CO_NAME</span><span class="op">,</span></span>
<span id="cb5-193"><a href="#cb5-193" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xFormat</span><span class="op">:</span> <span class="fu">getXFormat</span>()<span class="op">,</span></span>
<span id="cb5-194"><a href="#cb5-194" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xLabel</span><span class="op">:</span> <span class="st">"2050 Difference"</span><span class="op">,</span></span>
<span id="cb5-195"><a href="#cb5-195" aria-hidden="true" tabindex="-1"></a>    <span class="dt">aspectRatio</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb5-196"><a href="#cb5-196" aria-hidden="true" tabindex="-1"></a>    <span class="dt">colors</span><span class="op">:</span> d3<span class="op">.</span><span class="at">schemeRdBu</span>[<span class="dv">3</span>]<span class="op">,</span></span>
<span id="cb5-197"><a href="#cb5-197" aria-hidden="true" tabindex="-1"></a>    <span class="dt">yDomain</span><span class="op">:</span> [<span class="st">'Weber'</span><span class="op">,</span><span class="st">'Davis'</span><span class="op">,</span><span class="st">'Salt Lake'</span><span class="op">,</span><span class="st">'Utah'</span><span class="op">,</span> <span class="st">'Wasatch Front'</span>]</span>
<span id="cb5-198"><a href="#cb5-198" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-county-control-total-differences-by-category" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div id="ojs-cell-5" data-nodetype="declaration">

</div>
<figcaption class="figure-caption">Figure&nbsp;1: 2050 Differences in Control Totals for Selected Category (v9.0 vs v8.3.2)</figcaption>
</figure>
</div>
</div>
<div class="cell">
<details class="hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="204" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 203;"><span id="cb6-204"><a href="#cb6-204" aria-hidden="true" tabindex="-1"></a>viewof selectCounty <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">select</span>(<span class="kw">new</span> <span class="bu">Map</span>([<span class="st">'Wasatch Front'</span><span class="op">,</span> <span class="st">'Weber'</span><span class="op">,</span> <span class="st">'Davis'</span><span class="op">,</span> <span class="st">'Salt Lake'</span><span class="op">,</span> <span class="st">'Utah'</span>]<span class="op">.</span><span class="fu">map</span>(county <span class="kw">=&gt;</span> [county<span class="op">,</span> county]))<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="st">'Wasatch Front'</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">'County: '</span>})<span class="op">;</span></span>
<span id="cb6-205"><a href="#cb6-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-206"><a href="#cb6-206" aria-hidden="true" tabindex="-1"></a><span class="co">// FILTER DATA</span></span>
<span id="cb6-207"><a href="#cb6-207" aria-hidden="true" tabindex="-1"></a>filteredCTPlot <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) {</span>
<span id="cb6-208"><a href="#cb6-208" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> selectCounty   <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span><span class="op">;</span> <span class="co">//&amp;&amp;</span></span>
<span id="cb6-209"><a href="#cb6-209" aria-hidden="true" tabindex="-1"></a>         <span class="co">//selectCategoryPlot == ct.Category;</span></span>
<span id="cb6-210"><a href="#cb6-210" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb6-211"><a href="#cb6-211" aria-hidden="true" tabindex="-1"></a>maxY1 <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="op">...</span>filteredCTPlot<span class="op">.</span><span class="fu">map</span>(item <span class="kw">=&gt;</span> item<span class="op">.</span><span class="at">ControlTotal</span>))<span class="op">;</span></span>
<span id="cb6-212"><a href="#cb6-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-213"><a href="#cb6-213" aria-hidden="true" tabindex="-1"></a><span class="co">// FILTER DATA for employment control totals</span></span>
<span id="cb6-214"><a href="#cb6-214" aria-hidden="true" tabindex="-1"></a>filteredCTPlot2 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) {</span>
<span id="cb6-215"><a href="#cb6-215" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> selectCounty   <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span></span>
<span id="cb6-216"><a href="#cb6-216" aria-hidden="true" tabindex="-1"></a>         [<span class="st">"Typical"</span><span class="op">,</span> <span class="st">"Retail"</span><span class="op">,</span> <span class="st">"Industrial"</span><span class="op">,</span> <span class="st">"Other"</span>]<span class="op">.</span><span class="fu">includes</span>(ct<span class="op">.</span><span class="at">Category</span>)<span class="op">;</span></span>
<span id="cb6-217"><a href="#cb6-217" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb6-218"><a href="#cb6-218" aria-hidden="true" tabindex="-1"></a>maxY2 <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="op">...</span>filteredCTPlot2<span class="op">.</span><span class="fu">map</span>(item <span class="kw">=&gt;</span> item<span class="op">.</span><span class="at">ControlTotal</span>))<span class="op">;</span></span>
<span id="cb6-219"><a href="#cb6-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-220"><a href="#cb6-220" aria-hidden="true" tabindex="-1"></a><span class="co">// FILTER DATA for control totals ratios</span></span>
<span id="cb6-221"><a href="#cb6-221" aria-hidden="true" tabindex="-1"></a>filteredCTPlot3 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) {</span>
<span id="cb6-222"><a href="#cb6-222" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> selectCounty   <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span></span>
<span id="cb6-223"><a href="#cb6-223" aria-hidden="true" tabindex="-1"></a>         [<span class="st">"HH_Size"</span><span class="op">,</span> <span class="st">"Job_HH"</span><span class="op">,</span> <span class="st">"WrkPop_Job"</span>]<span class="op">.</span><span class="fu">includes</span>(ct<span class="op">.</span><span class="at">Category</span>)<span class="op">;</span></span>
<span id="cb6-224"><a href="#cb6-224" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb6-225"><a href="#cb6-225" aria-hidden="true" tabindex="-1"></a>maxY3 <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="op">...</span>filteredCTPlot3<span class="op">.</span><span class="fu">map</span>(item <span class="kw">=&gt;</span> item<span class="op">.</span><span class="at">ControlTotal</span>))<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-7" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<details class="hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="231" data-source-offset="-43"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 230;"><span id="cb7-231"><a href="#cb7-231" aria-hidden="true" tabindex="-1"></a>hhPopData8 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"HH_Pop"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v8.3.2"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span>  <span class="op">&amp;&amp;</span> ct<span class="op">.</span><span class="at">YEAR</span> <span class="op">&gt;</span> <span class="dv">2020</span><span class="op">;</span>})</span>
<span id="cb7-232"><a href="#cb7-232" aria-hidden="true" tabindex="-1"></a>hhPopData9 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"HH_Pop"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v9.0.0"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span><span class="op">;</span>})</span>
<span id="cb7-233"><a href="#cb7-233" aria-hidden="true" tabindex="-1"></a>hhData8 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"HH"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">'v8.3.2'</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span>  <span class="op">&amp;&amp;</span> ct<span class="op">.</span><span class="at">YEAR</span> <span class="op">&gt;</span> <span class="dv">2020</span><span class="op">;</span>})</span>
<span id="cb7-234"><a href="#cb7-234" aria-hidden="true" tabindex="-1"></a>hhData9 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"HH"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">'v9.0.0'</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span><span class="op">;</span>})</span>
<span id="cb7-235"><a href="#cb7-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-236"><a href="#cb7-236" aria-hidden="true" tabindex="-1"></a><span class="co">// data for the employment control totals</span></span>
<span id="cb7-237"><a href="#cb7-237" aria-hidden="true" tabindex="-1"></a>typicalData8 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"Typical"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v8.3.2"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span>  <span class="op">&amp;&amp;</span> ct<span class="op">.</span><span class="at">YEAR</span> <span class="op">&gt;</span> <span class="dv">2020</span><span class="op">;</span>})</span>
<span id="cb7-238"><a href="#cb7-238" aria-hidden="true" tabindex="-1"></a>typicalData9 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"Typical"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v9.0.0"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span><span class="op">;</span>})</span>
<span id="cb7-239"><a href="#cb7-239" aria-hidden="true" tabindex="-1"></a>retailData8 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"Retail"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v8.3.2"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span>  <span class="op">&amp;&amp;</span> ct<span class="op">.</span><span class="at">YEAR</span> <span class="op">&gt;</span> <span class="dv">2020</span><span class="op">;</span>})</span>
<span id="cb7-240"><a href="#cb7-240" aria-hidden="true" tabindex="-1"></a>retailData9 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"Retail"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v9.0.0"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span><span class="op">;</span>})</span>
<span id="cb7-241"><a href="#cb7-241" aria-hidden="true" tabindex="-1"></a>industrialData8 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"Industrial"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v8.3.2"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span>  <span class="op">&amp;&amp;</span> ct<span class="op">.</span><span class="at">YEAR</span> <span class="op">&gt;</span> <span class="dv">2020</span><span class="op">;</span>})</span>
<span id="cb7-242"><a href="#cb7-242" aria-hidden="true" tabindex="-1"></a>industrialData9 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"Industrial"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v9.0.0"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span><span class="op">;</span>})</span>
<span id="cb7-243"><a href="#cb7-243" aria-hidden="true" tabindex="-1"></a>otherData8 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"Other"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v8.3.2"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span>  <span class="op">&amp;&amp;</span> ct<span class="op">.</span><span class="at">YEAR</span> <span class="op">&gt;</span> <span class="dv">2020</span><span class="op">;</span>})</span>
<span id="cb7-244"><a href="#cb7-244" aria-hidden="true" tabindex="-1"></a>otherData9 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"Other"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v9.0.0"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span><span class="op">;</span>})</span>
<span id="cb7-245"><a href="#cb7-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-246"><a href="#cb7-246" aria-hidden="true" tabindex="-1"></a><span class="co">// data for control total ratios</span></span>
<span id="cb7-247"><a href="#cb7-247" aria-hidden="true" tabindex="-1"></a>hhsize8 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"HH_Size"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v8.3.2"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span>  <span class="op">&amp;&amp;</span> ct<span class="op">.</span><span class="at">YEAR</span> <span class="op">&gt;</span> <span class="dv">2020</span><span class="op">;</span>})</span>
<span id="cb7-248"><a href="#cb7-248" aria-hidden="true" tabindex="-1"></a>hhsize9 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"HH_Size"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v9.0.0"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span><span class="op">;</span>})</span>
<span id="cb7-249"><a href="#cb7-249" aria-hidden="true" tabindex="-1"></a>jobhh8 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"Job_HH"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v8.3.2"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span>  <span class="op">&amp;&amp;</span> ct<span class="op">.</span><span class="at">YEAR</span> <span class="op">&gt;</span> <span class="dv">2020</span><span class="op">;</span>})</span>
<span id="cb7-250"><a href="#cb7-250" aria-hidden="true" tabindex="-1"></a>jobhh9 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"Job_HH"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v9.0.0"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span><span class="op">;</span>})</span>
<span id="cb7-251"><a href="#cb7-251" aria-hidden="true" tabindex="-1"></a>wrkpop8 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"WrkPop_Job"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v8.3.2"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span>  <span class="op">&amp;&amp;</span> ct<span class="op">.</span><span class="at">YEAR</span> <span class="op">&gt;</span> <span class="dv">2020</span><span class="op">;</span>})</span>
<span id="cb7-252"><a href="#cb7-252" aria-hidden="true" tabindex="-1"></a>wrkpop9 <span class="op">=</span> faControlTotals<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(ct) { <span class="cf">return</span> selectCounty <span class="op">==</span> ct<span class="op">.</span><span class="at">CO_NAME</span> <span class="op">&amp;&amp;</span> <span class="st">"WrkPop_Job"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">Category</span> <span class="op">&amp;&amp;</span> <span class="st">"v9.0.0"</span> <span class="op">==</span> ct<span class="op">.</span><span class="at">ModelVersion</span><span class="op">;</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-16" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-17" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-18" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div>
<details class="hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb8" data-startfrom="265" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 264;"><span id="cb8-265"><a href="#cb8-265" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-266"><a href="#cb8-266" aria-hidden="true" tabindex="-1"></a>  <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-267"><a href="#cb8-267" aria-hidden="true" tabindex="-1"></a>  <span class="dt">aspectRatio</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb8-268"><a href="#cb8-268" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">'Year'</span><span class="op">,</span> <span class="dt">tickFormat</span><span class="op">:</span> d <span class="kw">=&gt;</span> d}<span class="op">,</span></span>
<span id="cb8-269"><a href="#cb8-269" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">'Control Total'</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> maxY1]}<span class="op">,</span></span>
<span id="cb8-270"><a href="#cb8-270" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginRight</span><span class="op">:</span><span class="dv">140</span><span class="op">,</span></span>
<span id="cb8-271"><a href="#cb8-271" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginLeft</span><span class="op">:</span> <span class="dv">140</span><span class="op">,</span></span>
<span id="cb8-272"><a href="#cb8-272" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> { <span class="dt">type</span><span class="op">:</span> <span class="st">"categorical"</span><span class="op">,</span> <span class="dt">legend</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="dt">legendStyle</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">24</span> } }<span class="op">,</span></span>
<span id="cb8-273"><a href="#cb8-273" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb8-274"><a href="#cb8-274" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">24</span></span>
<span id="cb8-275"><a href="#cb8-275" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-276"><a href="#cb8-276" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span></span>
<span id="cb8-277"><a href="#cb8-277" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span></span>
<span id="cb8-278"><a href="#cb8-278" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">1300</span><span class="op">,</span></span>
<span id="cb8-279"><a href="#cb8-279" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-280"><a href="#cb8-280" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-281"><a href="#cb8-281" aria-hidden="true" tabindex="-1"></a>      hhPopData8<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#5b859e'</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">'5,5'</span>})<span class="op">,</span></span>
<span id="cb8-282"><a href="#cb8-282" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-283"><a href="#cb8-283" aria-hidden="true" tabindex="-1"></a>      hhPopData9<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#1e395f'</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> [<span class="st">''</span>]})<span class="op">,</span></span>
<span id="cb8-284"><a href="#cb8-284" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb8-285"><a href="#cb8-285" aria-hidden="true" tabindex="-1"></a>      hhPopData9<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"YEAR"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"ControlTotal"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Category"</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">3</span>}))<span class="op">,</span></span>
<span id="cb8-286"><a href="#cb8-286" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-287"><a href="#cb8-287" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-288"><a href="#cb8-288" aria-hidden="true" tabindex="-1"></a>      hhData8<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#75884b'</span><span class="op">,</span><span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span><span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">'5,5'</span>})<span class="op">,</span></span>
<span id="cb8-289"><a href="#cb8-289" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-290"><a href="#cb8-290" aria-hidden="true" tabindex="-1"></a>      hhData9<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#1e5a46'</span><span class="op">,</span><span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb8-291"><a href="#cb8-291" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb8-292"><a href="#cb8-292" aria-hidden="true" tabindex="-1"></a>      hhData9<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"YEAR"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"ControlTotal"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Category"</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">3</span>}))<span class="op">,</span></span>
<span id="cb8-293"><a href="#cb8-293" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-294"><a href="#cb8-294" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">frame</span>({<span class="dt">strokeOpacity</span><span class="op">:</span> <span class="fl">0.2</span>})<span class="op">,</span></span>
<span id="cb8-295"><a href="#cb8-295" aria-hidden="true" tabindex="-1"></a>    [</span>
<span id="cb8-296"><a href="#cb8-296" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">text</span>([<span class="vs">`</span><span class="sc">\n</span><span class="vs">   ——   Current Projection </span><span class="sc">\n\n</span><span class="vs">   —  — Previous Projection`</span>]<span class="op">,</span> {<span class="dt">frameAnchor</span><span class="op">:</span> <span class="st">"top-left"</span><span class="op">,</span> <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">24</span>})</span>
<span id="cb8-297"><a href="#cb8-297" aria-hidden="true" tabindex="-1"></a>  ]]</span>
<span id="cb8-298"><a href="#cb8-298" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb8-299"><a href="#cb8-299" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-300"><a href="#cb8-300" aria-hidden="true" tabindex="-1"></a>  <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-301"><a href="#cb8-301" aria-hidden="true" tabindex="-1"></a>  <span class="dt">aspectRatio</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb8-302"><a href="#cb8-302" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">'Year'</span><span class="op">,</span> <span class="dt">tickFormat</span><span class="op">:</span> d <span class="kw">=&gt;</span> d}<span class="op">,</span></span>
<span id="cb8-303"><a href="#cb8-303" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">'Control Total'</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> maxY2]}<span class="op">,</span></span>
<span id="cb8-304"><a href="#cb8-304" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginRight</span><span class="op">:</span><span class="dv">140</span><span class="op">,</span></span>
<span id="cb8-305"><a href="#cb8-305" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginLeft</span><span class="op">:</span> <span class="dv">140</span><span class="op">,</span></span>
<span id="cb8-306"><a href="#cb8-306" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> { <span class="dt">type</span><span class="op">:</span> <span class="st">"categorical"</span><span class="op">,</span> <span class="dt">legend</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="dt">legendStyle</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">24</span> } }<span class="op">,</span></span>
<span id="cb8-307"><a href="#cb8-307" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb8-308"><a href="#cb8-308" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">24</span></span>
<span id="cb8-309"><a href="#cb8-309" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-310"><a href="#cb8-310" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span></span>
<span id="cb8-311"><a href="#cb8-311" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span></span>
<span id="cb8-312"><a href="#cb8-312" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">1300</span><span class="op">,</span></span>
<span id="cb8-313"><a href="#cb8-313" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-314"><a href="#cb8-314" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-315"><a href="#cb8-315" aria-hidden="true" tabindex="-1"></a>      typicalData8<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#FF6666'</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">'5,5'</span>})<span class="op">,</span></span>
<span id="cb8-316"><a href="#cb8-316" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-317"><a href="#cb8-317" aria-hidden="true" tabindex="-1"></a>      typicalData9<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#FF0000'</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb8-318"><a href="#cb8-318" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb8-319"><a href="#cb8-319" aria-hidden="true" tabindex="-1"></a>      typicalData9<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"YEAR"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"ControlTotal"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Category"</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">3</span>}))<span class="op">,</span></span>
<span id="cb8-320"><a href="#cb8-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-321"><a href="#cb8-321" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-322"><a href="#cb8-322" aria-hidden="true" tabindex="-1"></a>      retailData8<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#75884b'</span><span class="op">,</span><span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span><span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">'5,5'</span>})<span class="op">,</span></span>
<span id="cb8-323"><a href="#cb8-323" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-324"><a href="#cb8-324" aria-hidden="true" tabindex="-1"></a>      retailData9<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#1e5a46'</span><span class="op">,</span><span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb8-325"><a href="#cb8-325" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb8-326"><a href="#cb8-326" aria-hidden="true" tabindex="-1"></a>      retailData9<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"YEAR"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"ControlTotal"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Category"</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">3</span>}))<span class="op">,</span></span>
<span id="cb8-327"><a href="#cb8-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-328"><a href="#cb8-328" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-329"><a href="#cb8-329" aria-hidden="true" tabindex="-1"></a>      industrialData8<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#A0A0A0'</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">'5,5'</span>})<span class="op">,</span></span>
<span id="cb8-330"><a href="#cb8-330" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-331"><a href="#cb8-331" aria-hidden="true" tabindex="-1"></a>      industrialData9<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#606060'</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb8-332"><a href="#cb8-332" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb8-333"><a href="#cb8-333" aria-hidden="true" tabindex="-1"></a>      industrialData9<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"YEAR"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"ControlTotal"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Category"</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">3</span>}))<span class="op">,</span></span>
<span id="cb8-334"><a href="#cb8-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-335"><a href="#cb8-335" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-336"><a href="#cb8-336" aria-hidden="true" tabindex="-1"></a>      otherData8<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#5b859e'</span><span class="op">,</span><span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span><span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">'5,5'</span>})<span class="op">,</span></span>
<span id="cb8-337"><a href="#cb8-337" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-338"><a href="#cb8-338" aria-hidden="true" tabindex="-1"></a>      otherData9<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#1e395f'</span><span class="op">,</span><span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb8-339"><a href="#cb8-339" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb8-340"><a href="#cb8-340" aria-hidden="true" tabindex="-1"></a>      otherData9<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"YEAR"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"ControlTotal"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Category"</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">3</span>}))<span class="op">,</span></span>
<span id="cb8-341"><a href="#cb8-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-342"><a href="#cb8-342" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">frame</span>({<span class="dt">strokeOpacity</span><span class="op">:</span> <span class="fl">0.2</span>})</span>
<span id="cb8-343"><a href="#cb8-343" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb8-344"><a href="#cb8-344" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb8-345"><a href="#cb8-345" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-346"><a href="#cb8-346" aria-hidden="true" tabindex="-1"></a>  <span class="dt">grid</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-347"><a href="#cb8-347" aria-hidden="true" tabindex="-1"></a>  <span class="dt">aspectRatio</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb8-348"><a href="#cb8-348" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">'Year'</span><span class="op">,</span> <span class="dt">tickFormat</span><span class="op">:</span> d <span class="kw">=&gt;</span> d}<span class="op">,</span></span>
<span id="cb8-349"><a href="#cb8-349" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">'Control Total'</span><span class="op">,</span> <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> maxY3]}<span class="op">,</span></span>
<span id="cb8-350"><a href="#cb8-350" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginRight</span><span class="op">:</span><span class="dv">140</span><span class="op">,</span></span>
<span id="cb8-351"><a href="#cb8-351" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginLeft</span><span class="op">:</span> <span class="dv">140</span><span class="op">,</span></span>
<span id="cb8-352"><a href="#cb8-352" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> { <span class="dt">type</span><span class="op">:</span> <span class="st">"categorical"</span><span class="op">,</span> <span class="dt">legend</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="dt">legendStyle</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">24</span> } }<span class="op">,</span></span>
<span id="cb8-353"><a href="#cb8-353" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb8-354"><a href="#cb8-354" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">24</span></span>
<span id="cb8-355"><a href="#cb8-355" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-356"><a href="#cb8-356" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span></span>
<span id="cb8-357"><a href="#cb8-357" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span></span>
<span id="cb8-358"><a href="#cb8-358" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">1300</span><span class="op">,</span></span>
<span id="cb8-359"><a href="#cb8-359" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-360"><a href="#cb8-360" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-361"><a href="#cb8-361" aria-hidden="true" tabindex="-1"></a>      hhsize8<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#5b859e'</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">'5,5'</span>})<span class="op">,</span></span>
<span id="cb8-362"><a href="#cb8-362" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-363"><a href="#cb8-363" aria-hidden="true" tabindex="-1"></a>      hhsize9<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#1e395f'</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb8-364"><a href="#cb8-364" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb8-365"><a href="#cb8-365" aria-hidden="true" tabindex="-1"></a>      hhsize9<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"YEAR"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"ControlTotal"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Category"</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">3</span>}))<span class="op">,</span></span>
<span id="cb8-366"><a href="#cb8-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-367"><a href="#cb8-367" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-368"><a href="#cb8-368" aria-hidden="true" tabindex="-1"></a>      jobhh8<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#75884b'</span><span class="op">,</span><span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span><span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">'5,5'</span>})<span class="op">,</span></span>
<span id="cb8-369"><a href="#cb8-369" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-370"><a href="#cb8-370" aria-hidden="true" tabindex="-1"></a>      jobhh9<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#1e5a46'</span><span class="op">,</span><span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb8-371"><a href="#cb8-371" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb8-372"><a href="#cb8-372" aria-hidden="true" tabindex="-1"></a>      jobhh9<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"YEAR"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"ControlTotal"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Category"</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">3</span>}))<span class="op">,</span></span>
<span id="cb8-373"><a href="#cb8-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-374"><a href="#cb8-374" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-375"><a href="#cb8-375" aria-hidden="true" tabindex="-1"></a>      wrkpop8<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#FFB266'</span><span class="op">,</span><span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span><span class="dt">strokeDasharray</span><span class="op">:</span> <span class="st">'5,5'</span>})<span class="op">,</span></span>
<span id="cb8-376"><a href="#cb8-376" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb8-377"><a href="#cb8-377" aria-hidden="true" tabindex="-1"></a>      wrkpop9<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">'YEAR'</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">'ControlTotal'</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">'#FF8000'</span><span class="op">,</span><span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span>})<span class="op">,</span></span>
<span id="cb8-378"><a href="#cb8-378" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(</span>
<span id="cb8-379"><a href="#cb8-379" aria-hidden="true" tabindex="-1"></a>      wrkpop9<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"YEAR"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"ControlTotal"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="st">"Category"</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">3</span>}))<span class="op">,</span></span>
<span id="cb8-380"><a href="#cb8-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-381"><a href="#cb8-381" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">frame</span>({<span class="dt">strokeOpacity</span><span class="op">:</span> <span class="fl">0.2</span>})</span>
<span id="cb8-382"><a href="#cb8-382" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb8-383"><a href="#cb8-383" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-county-control-trends-by-county-by-category" class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="fig-county-control-trends-by-county-by-category-1" class="quarto-figure quarto-figure-center anchored" style="flex-basis: 33.3%;justify-content: center;">
<figure class="figure">
<div id="ojs-cell-8-1" data-nodetype="expression">

</div>
<figcaption class="figure-caption">(a) Residential Control Total</figcaption>
</figure>
</div>
<div id="fig-county-control-trends-by-county-by-category-2" class="quarto-figure quarto-figure-center anchored" style="flex-basis: 33.3%;justify-content: center;">
<figure class="figure">
<div id="ojs-cell-8-2" data-nodetype="expression">

</div>
<figcaption class="figure-caption">(b) Employment Control Total</figcaption>
</figure>
</div>
<div id="fig-county-control-trends-by-county-by-category-3" class="quarto-figure quarto-figure-center anchored" style="flex-basis: 33.3%;justify-content: center;">
<figure class="figure">
<div id="ojs-cell-8-3" data-nodetype="expression">

</div>
<figcaption class="figure-caption">(c) Control Total Ratios</figcaption>
</figure>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2: Control Total Trends for Selected County for Selected Category</figcaption><p></p>
</figure>
</div>
</div>
<p><strong>Household Population</strong></p>
<p>The 2021 forecasted household population of the combined, 4-county Wasatch Front remained relatively consistent relative to the 2017 projection, with the exception of a slight decrease in forecasted population in the later part of the forecast (-0.7% in 2050). County population, however, is quite different in the 2021 forecast. By 2050:</p>
<ul>
<li>Utah County saw a significant decrease (-8.7%) in household population with approximately 120,000 fewer people.</li>
<li>Salt Lake county saw a moderate increase (2.7%) and Davis County saw a significant increase (7.4%) in population of approximately 40,000 people in each county.</li>
<li>Weber County showed a modest increase (2.6%) of approximately 9,000 people. The forecasted age make-up of each county shifted to older populations in the 2021 projections compared to the 2017 projections. By 2050:</li>
<li>Children aged population (age 0-17) in Salt Lake and Utah counties decreased significantly, with Salt Lake County having 40,000 fewer people and Utah County having 120,000 fewer people.</li>
<li>Adult aged population (age 18-64) increased in Weber County by 11,000, Davis County by 24,000, and Salt Lake County by 47,000, while Utah County decreased by 50,000.</li>
<li>Senior aged population (age 65+) increased in all counites with the most significant increase in Salt Lake County of just less than 28,000.</li>
<li>Overall, the new projection forecasts approximately 113,000 fewer children, 30,000 more adults, and 56,000 more seniors.</li>
</ul>
<p><strong>Households</strong></p>
<p>The 2021 projections show an initial decrease over the 2017 projections of 43,000 households along the Wasatch Front in 2020, which then transitions to be a net increase of 18,000 households by 2050. Weber, Davis, and Salt Lake counties follow a similar pattern in the 2021 projections where each has a net increase in households between 2035 and 2045 ending with 2,500 more households in Weber County, 15,000 more households in Davis County, and 23,000 more households in Salt Lake County. Utah County shows a further decrease in households beginning in 2030 trending to 23,000 fewer households by 2050.</p>
<p><strong>Population-Housing Balance</strong></p>
<p>The initial population/housing balance, as shown by the average household size, was higher in the 2021 projections relative to the 2017 projections, but quickly trends down to where the average household size is similar to the 2050 projections for Weber, Salt Lake, and Davis counites. The trend in the average household size in Utah County is considerably lower. This may be due to the dramatic drop in child-age population in Utah County which tend to live in households with higher household sizes and the increase in senior population which tend to live in households with lower household sizes.</p>
<p><strong>Employment</strong></p>
<p>The 2021 projections show an initial increase over the 2017 projections of 65,000 jobs along the Wasatch Front after a rebound from Covid. The new projections then transition to a slight decrease of 16,000 jobs by 2050. The differences in employment forecasts are most notable between Utah and Salt Lake counties. By 2050, the 2021 projections show an increase of 37,000 jobs (3.1%) in Salt Lake County and a decrease of 50,000 jobs (-8.5%) in Utah County. By 2050, Weber and Davis counites have little change from the previous forecast. The biggest change in employment was in the “other” employment category.</p>
<p><strong>Employment Ratios</strong></p>
<p>The 2021 projections showed a slight increase in working population per job in Weber and Davis counties compared to the 2017 projections. The working population per jobs ratio in Salt Lake and Utah counties remained fairly constant.</p>
<p><strong>Impact of Control Total Changes on Travel Demand Model Forecasts</strong></p>
<p>The impact on the travel demand model of the socioeconomic control total changes will be most notable in the future volume forecasts in Utah and Salt Lake counties. Utah County has significantly fewer people and jobs in 2050 which translates to fewer trips and less traffic volume than in the previous model. Similarly, Salt Lake County saw an increase in the forecasted people and jobs which translates to more trips and volume. The impact will be more noticeable in Utah County than in Salt Lake County as the socioeconomic difference represents a much higher percent change of the total socioeconomic data. Also, the shift in jobs between Utah and Salt Lake counties is primarily in the “other” employment category, which averages longer commute distances and may cause the commuting pattern between Utah and Salt Lake counties to be different than in the previous model.</p>
<p>In addition, because the average household size control total in Utah County is lower in the later years than the previous socioeconomic projection, it will require more housing units to house a comparable amount of people, implying that the new Utah County socioeconomic forecast could exhibit slightly more sprawl and longer trip lengths per capita than the previous model.</p>
<p>The overall shift to more seniors and less children in the new control totals will have an effect in the future forecasted trip generation. Seniors typically have lower trip rates per household than households with children, with work and school trip purposes being most impacted.</p>
</section>
<section id="changes-to-model-control-total-input-files" class="level3">
<h3 class="anchored" data-anchor-id="changes-to-model-control-total-input-files">Changes to Model Control Total Input Files</h3>
<p>Many changes were made to the control total source spreadsheet in the <code>1_Inputs\2_SEData\_ControlTotals</code> folder, including:</p>
<ul>
<li>The new control total spreadsheet combines several processes that previously were in separate source files or that are needed to create new files required by the models:
<ul>
<li>County SE control totals</li>
<li>County Age Group control totals</li>
<li>County Work-At-Home control totals</li>
<li>County SE by 3-digit NAICS (needed for freight model)</li>
<li>Separating Weber County data into Wasatch Front and Ogden Valley datasets</li>
<li>Separating Weber, Davis, Salt Lake, and Utah counties into REMM and non-REMM datasets</li>
</ul></li>
<li>The order and number of the output variables were changed in the model input files to make them more consistent with how the socioeconomic data is processed in the current travel and land use models.</li>
<li>Historical data going back to 1990 was added. The control total source spreadsheet now contains a nice, consistent database that allows a look back 30 years as well as a look ahead 40+ years.
<ul>
<li>Note, some of the historical data had to be estimated to fill in data gaps and convert employment from SIC to NAICS for data prior to 2001.</li>
</ul></li>
<li>Functionality was added to visualize and check the data.</li>
<li>The Work-At-Home (WAH) control total calculations now include information to siphon off the home-based jobs (HBJ) from each of the 23 GPI employment categories to become the HBJ category in the travel model. With WF TDM version 9, the process now includes county-specific HBJ rates rather than one set of rates for the whole state. HBJ rates were also updated to represent 2019 data.</li>
<li>Similarly, the Work-At-Home (WAH) control total calculations now include telecommuting information for all travel demand models in the state. The telecommuting rates pivot off of historic data from the 5-year 2019 ACS and the telecommuting forecasting work done for the WF TDM v8.3.2. County-specific telecommuting rates were generated for the following counties:
<ul>
<li>Weber</li>
<li>Davis</li>
<li>Salt Lake</li>
<li>Utah</li>
<li>Cache</li>
<li>Washington</li>
<li>Summit</li>
<li>Wasatch</li>
<li>Box Elder</li>
<li>Tooele</li>
<li>Iron</li>
</ul>
The remaining rural counties had insufficient data in the ACS to generate unique rates. These counties were grouped together to generate a composite rate to reduce the sampling margin of error.<br>
</li>
<li>Weber County contains two sets of data: one for all of Weber County, the other that separates the Weber County data for the UDOT planning domain (index=9057) and the Wasatch Front planning domain (index=9157).</li>
</ul>
<p>In addition, the <code>ControlTotal_Age.csv</code> model input file in the <code>1_Inputs\2_SEData\_ControlTotals</code> folder was combined with <code>ControlTotal_SE_WF.csv</code> file and renamed <code>ControlTotal_SE_AllCounties.csv</code>. The <code>1_DemographicsAnalysis.s</code> script was updated to read <code>ControlTotal_SE_AllCounties.csv</code>.</p>
</section>
</section>
<section id="taz-level-forecasts" class="level2">
<h2 class="anchored" data-anchor-id="taz-level-forecasts">TAZ-Level Forecasts</h2>
<p>A new TAZ-level distribution of the updated county socioeconomic control totals was performed for WF TDM version 9. Updates to Weber, Davis, Salt Lake, and Utah counties TAZ-level socioeconomic forecasts were generated by REMM and included the following:</p>
<ul>
<li>Base and future year land use capacities based on updated city/county general plans, zoning, and centers (vision) location details.</li>
<li>Base year residential dwelling units by type (single family, multi-family), household allocation, and population synthesis</li>
<li>Base year commercial building square foot and employment allocation by employment category</li>
</ul>
<p>A detailed review of the TAZ-level socioeconomic forecasts was performed by an independent consultant. In addition, knowledgeable parties provided feedback for major development areas, including Falcon Hill, Day Break, Olympia Hills, and Point of the Mountain. A high-level review was also performed by local governments. Updates to socioeconomic data in Box Elder were provided by UDOT which included similar base year data updates and local review. The updated TAZ socioeconomic forecasts can be visualized with the <a href="https://wfrc.org/household-job-forecast-map/">Household and Job Forecasts Web App</a>. Changes in the forecasts between versions 8 and 9 can be seen by clicking on <em>View Advanced Version</em> in the header and then selecting <em>New vs.&nbsp;Old</em>. You can explore the data in the embedded web application in <a href="#fig-household-job-forecast-map">Figure&nbsp;3</a>.</p>
<div class="cell">
<details class="hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb9" data-startfrom="474" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 473;"><span id="cb9-474"><a href="#cb9-474" aria-hidden="true" tabindex="-1"></a><span class="fu">html</span><span class="vs">`&lt;div style="width: 765px; height: 680px; transform: scale(0.85); transform-origin: 0 0;"&gt;</span></span>
<span id="cb9-475"><a href="#cb9-475" aria-hidden="true" tabindex="-1"></a><span class="vs">         &lt;iframe width="900" height="800" src="https://wfrc.org/household-job-forecast-map/" title="Household and Job Forecast"&gt;&lt;/iframe&gt;</span></span>
<span id="cb9-476"><a href="#cb9-476" aria-hidden="true" tabindex="-1"></a><span class="vs">     &lt;/div&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-household-job-forecast-map" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div id="ojs-cell-9" data-nodetype="expression">

</div>
<figcaption class="figure-caption">Figure&nbsp;3: Household and Job Forecast WebApp</figcaption>
</figure>
</div>
</div>
</section>
<section id="base-year-taz-age-percent-lookup-file" class="level2">
<h2 class="anchored" data-anchor-id="base-year-taz-age-percent-lookup-file">Base-Year TAZ Age Percent Lookup File</h2>
<p>The TAZ-level age percent parameters were updated using 2020 Census block and 2020 ACS block group data. This update was done statewide by UDOT and provided for use in each travel model area in Utah. The Wasatch Front updated parameters are found in the <code>1_Inputs\0_GlobalData\1_HHDisag_AutoOwn \Lookup - BYTAZAgePct - AllCo.csv</code> lookup file.</p>


</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
{"contents":[{"methodName":"interpret","cellName":"ojs-cell-1","inline":false,"source":"\n// read in CSVs\nfaControlTotals = FileAttachment(\"data/controltotal.csv\").csv({ typed: true });\nfaCounties      = FileAttachment(\"data/counties.csv\"    ).csv({ typed: true });\n\ncats = new Map([//['Total Population'               , 'TOTPOP'    ],\n                //['Group Quarter Population'       , 'GQ_Pop'    ],\n                ['Population'                     , 'HH_Pop'    ],\n                ['Households'                     , 'HH'        ],\n                //['Household Size'                 , 'HH_Size'   ],\n                //['Population 0-17'                , 'POP_00_17' ],\n                //['Population 18-64'               , 'POP_18_64' ],\n                //['Population 65+'                 , 'POP_65P'   ],\n                ['All Employment'                 , 'ALLEMP'    ],\n                ['Retail Employment'              , 'RETL'      ],\n                ['Food Employment'                , 'FOOD'      ],\n                ['Manufacturing Employment'       , 'MANU'      ],\n                ['Wholesale Employment'           , 'WSLE'      ],\n                ['Office Employment'              , 'OFFI'      ],\n                ['Government/Education Employment', 'GVED'      ],\n                ['Health Employment'              , 'HLTH'      ],\n                ['Other Employment'               , 'OTHR'      ],\n                //['Agriculture Employment'         , 'AGRI'      ],\n                //['Mining Employment'              , 'MING'      ],\n                //['Construction Employment'        , 'CONS'      ],\n                ['Home-Based Job Employment'      , 'HBJ'       ]\n                //['Jobs per Household'             , 'Job_HH'    ],\n                //['Working Population per Job'     , 'WrkPop_Job']\n                ])\n"},{"methodName":"interpret","cellName":"ojs-cell-2","inline":false,"source":"// FILTER DATA\nfilteredControlTotals = faControlTotals.filter(function(ct) {\n  return selectCounty   == ct.CO_NAME &&\n         selectCategory == ct.Category;\n});\nviewof selectCategory = Inputs.select(cats, {value: 'HH_Pop', label: 'Category: '});\n\nviewof metric = Inputs.radio(new Map([[\"Difference\", \"Difference\"], [\"Percent Difference\", \"DifferencePct\"]]), {value: \"Difference\", label: \"Display:\"})\n"},{"methodName":"interpret","cellName":"ojs-cell-3","inline":false,"source":"dataCTDiff50 = transpose(diffConTot2050long)\nfiltered_dataCTDiff50 = dataCTDiff50.filter(function(dataL) {\n    return selectCategory == dataL.Category  &&\n           metric == dataL.View;\n})\n"},{"methodName":"interpret","cellName":"ojs-cell-4","inline":false,"source":"//https://observablehq.com/@d3/diverging-bar-chart\nimport {DivergingBarChart} from \"@d3/diverging-bar-chart\"\n\nfunction getXFormat() {\n  if (metric === \"DifferencePct\") {\n    return \"+%\";\n  } else if (selectCategory === 'HH_Size' && metric === \"Difference\") {\n    return \".2f\";\n  } else {\n    return \"+,d\";\n  }\n}\n\n"},{"methodName":"interpret","cellName":"ojs-cell-5","inline":false,"source":"\nchart3 = DivergingBarChart(filtered_dataCTDiff50, {\n    x: d => d.ViewValue,\n    y: d => d.CO_NAME,\n    xFormat: getXFormat(),\n    xLabel: \"2050 Difference\",\n    aspectRatio: 0.5,\n    colors: d3.schemeRdBu[3],\n    yDomain: ['Weber','Davis','Salt Lake','Utah', 'Wasatch Front']\n})\n"},{"methodName":"interpret","cellName":"ojs-cell-6","inline":false,"source":"viewof selectCounty = Inputs.select(new Map(['Wasatch Front', 'Weber', 'Davis', 'Salt Lake', 'Utah'].map(county => [county, county])), {value: 'Wasatch Front', label: 'County: '});\n\n// FILTER DATA\nfilteredCTPlot = faControlTotals.filter(function(ct) {\n  return selectCounty   == ct.CO_NAME; //&&\n         //selectCategoryPlot == ct.Category;\n});\nmaxY1 = Math.max(...filteredCTPlot.map(item => item.ControlTotal));\n\n// FILTER DATA for employment control totals\nfilteredCTPlot2 = faControlTotals.filter(function(ct) {\n  return selectCounty   == ct.CO_NAME &&\n         [\"Typical\", \"Retail\", \"Industrial\", \"Other\"].includes(ct.Category);\n});\nmaxY2 = Math.max(...filteredCTPlot2.map(item => item.ControlTotal));\n\n// FILTER DATA for control totals ratios\nfilteredCTPlot3 = faControlTotals.filter(function(ct) {\n  return selectCounty   == ct.CO_NAME &&\n         [\"HH_Size\", \"Job_HH\", \"WrkPop_Job\"].includes(ct.Category);\n});\nmaxY3 = Math.max(...filteredCTPlot3.map(item => item.ControlTotal));\n"},{"methodName":"interpret","cellName":"ojs-cell-7","inline":false,"source":"// data for the residential control totals\nhhPopData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH_Pop\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR > 2020;})\nhhPopData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH_Pop\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\nhhData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH\" == ct.Category && 'v8.3.2' == ct.ModelVersion  && ct.YEAR > 2020;})\nhhData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH\" == ct.Category && 'v9.0.0' == ct.ModelVersion;})\n\n// data for the employment control totals\ntypicalData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Typical\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR > 2020;})\ntypicalData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Typical\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\nretailData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Retail\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR > 2020;})\nretailData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Retail\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\nindustrialData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Industrial\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR > 2020;})\nindustrialData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Industrial\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\notherData8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Other\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR > 2020;})\notherData9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Other\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\n\n// data for control total ratios\nhhsize8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH_Size\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR > 2020;})\nhhsize9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"HH_Size\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\njobhh8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Job_HH\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR > 2020;})\njobhh9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"Job_HH\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\nwrkpop8 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"WrkPop_Job\" == ct.Category && \"v8.3.2\" == ct.ModelVersion  && ct.YEAR > 2020;})\nwrkpop9 = faControlTotals.filter(function(ct) { return selectCounty == ct.CO_NAME && \"WrkPop_Job\" == ct.Category && \"v9.0.0\" == ct.ModelVersion;})\n"},{"methodName":"interpret","cellName":"ojs-cell-8","inline":false,"source":"\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  x: {label: 'Year', tickFormat: d => d},\n  y: {label: 'Control Total', domain: [0, maxY1]},\n  marginRight:140,\n  marginLeft: 140,\n  color: { type: \"categorical\", legend: true, legendStyle: { fontSize: 24 } },\n  style: {\n    fontSize: 24\n  },\n  marginTop: 60,\n  marginBottom: 60,\n  height: 1300,\n  marks: [\n    Plot.line(\n      hhPopData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#5b859e', strokeWidth: 3, strokeDasharray: '5,5'}),\n    Plot.line(\n      hhPopData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e395f', strokeWidth: 3, text: ['']}),\n    Plot.text(\n      hhPopData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n    \n    Plot.line(\n      hhData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#75884b',strokeWidth: 3,strokeDasharray: '5,5'}),\n    Plot.line(\n      hhData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e5a46',strokeWidth: 3}),\n    Plot.text(\n      hhData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n    \n    Plot.frame({strokeOpacity: 0.2}),\n    [\n      Plot.text([`\\n   ——   Current Projection \\n\\n   —  — Previous Projection`], {frameAnchor: \"top-left\", fontSize: 24})\n  ]]\n})\n\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  x: {label: 'Year', tickFormat: d => d},\n  y: {label: 'Control Total', domain: [0, maxY2]},\n  marginRight:140,\n  marginLeft: 140,\n  color: { type: \"categorical\", legend: true, legendStyle: { fontSize: 24 } },\n  style: {\n    fontSize: 24\n  },\n  marginTop: 60,\n  marginBottom: 60,\n  height: 1300,\n  marks: [\n    Plot.line(\n      typicalData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#FF6666', strokeWidth: 3, strokeDasharray: '5,5'}),\n    Plot.line(\n      typicalData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#FF0000', strokeWidth: 3}),\n    Plot.text(\n      typicalData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.line(\n      retailData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#75884b',strokeWidth: 3,strokeDasharray: '5,5'}),\n    Plot.line(\n      retailData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e5a46',strokeWidth: 3}),\n    Plot.text(\n      retailData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.line(\n      industrialData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#A0A0A0', strokeWidth: 3, strokeDasharray: '5,5'}),\n    Plot.line(\n      industrialData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#606060', strokeWidth: 3}),\n    Plot.text(\n      industrialData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.line(\n      otherData8, {x: 'YEAR', y: 'ControlTotal', stroke: '#5b859e',strokeWidth: 3,strokeDasharray: '5,5'}),\n    Plot.line(\n      otherData9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e395f',strokeWidth: 3}),\n    Plot.text(\n      otherData9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.frame({strokeOpacity: 0.2})\n  ]\n})\n\nPlot.plot({\n  grid: true,\n  aspectRatio: 0.5,\n  x: {label: 'Year', tickFormat: d => d},\n  y: {label: 'Control Total', domain: [0, maxY3]},\n  marginRight:140,\n  marginLeft: 140,\n  color: { type: \"categorical\", legend: true, legendStyle: { fontSize: 24 } },\n  style: {\n    fontSize: 24\n  },\n  marginTop: 60,\n  marginBottom: 60,\n  height: 1300,\n  marks: [\n    Plot.line(\n      hhsize8, {x: 'YEAR', y: 'ControlTotal', stroke: '#5b859e', strokeWidth: 3, strokeDasharray: '5,5'}),\n    Plot.line(\n      hhsize9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e395f', strokeWidth: 3}),\n    Plot.text(\n      hhsize9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.line(\n      jobhh8, {x: 'YEAR', y: 'ControlTotal', stroke: '#75884b',strokeWidth: 3,strokeDasharray: '5,5'}),\n    Plot.line(\n      jobhh9, {x: 'YEAR', y: 'ControlTotal', stroke: '#1e5a46',strokeWidth: 3}),\n    Plot.text(\n      jobhh9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.line(\n      wrkpop8, {x: 'YEAR', y: 'ControlTotal', stroke: '#FFB266',strokeWidth: 3,strokeDasharray: '5,5'}),\n    Plot.line(\n      wrkpop9, {x: 'YEAR', y: 'ControlTotal', stroke: '#FF8000',strokeWidth: 3}),\n    Plot.text(\n      wrkpop9, Plot.selectLast({x: \"YEAR\", y: \"ControlTotal\", text: \"Category\", textAnchor: \"start\", dx: 3})),\n\n    Plot.frame({strokeOpacity: 0.2})\n  ]\n})\n"},{"methodName":"interpret","cellName":"ojs-cell-9","inline":false,"source":"\nhtml`<div style=\"width: 765px; height: 680px; transform: scale(0.85); transform-origin: 0 0;\">\n         <iframe width=\"900\" height=\"800\" src=\"https://wfrc.org/household-job-forecast-map/\" title=\"Household and Job Forecast\"></iframe>\n     </div>`\n"},{"methodName":"interpretQuiet","source":"shinyInput('selectCategory')"},{"methodName":"interpretQuiet","source":"shinyInput('metric')"},{"methodName":"interpretQuiet","source":"shinyInput('selectCounty')"}]}
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../v9x/v900/whats-new";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left"><a href="https://wfrc.org"><img src="https://wfrc.org/wp-content/uploads/2021/11/logo.jpg" class="img-fluid" alt="WFRC" width="150"></a> <a href="https://mountainland.org/"><img src="https://mountainland.org/static/media/logo/svg/MAG_Logo_Horz_NoTag.svg" class="img-fluid" alt="MAG" width="65"></a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Built using <a href="https://quarto.org">Quarto</a></div>
  </div>
</footer>



</body></html>